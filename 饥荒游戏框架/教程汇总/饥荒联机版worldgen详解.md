## 骨架与血肉

游戏世界(地形)的生成由`forest_map.Generate()`函数启动，该函数的操作总体可以看作两个部分：生成地形的逻辑部分(骨架), 生成地形的图形部分(血肉)。生成骨架的操作主要通过`BuildStory()`函数实现，主要是将用户定义的场景和结构转换为图结构；生成血肉主要是通过调用一些引擎底层的函数(用户不可见)将图结构转换为用户可见的图形。

### 部分函数解析

`WorldSim:WorldGen_VoronoiPass(50)`是世界生成过程中的一个步骤。具体地说，它使用 Voronoi 算法对地图进行细分，产生一些自然形状的区域，然后用这些区域来生成不同类型的生物群落、地形特征等。这个过程主要涉及到了地形生成、地图种子和生物群落等方面的内容。参数“50”表示 Voronoi 算法生成的区域数量，可以根据需要进行调整。此外，在这个过程中还可以通过其他参数来控制各种生物群落、地形特征的生成方式、数量等，以达到更加精细的地图生成效果。  

`WorldSim:SeparateIslands()`是用于将地图上的岛屿分离的函数。在地图生成时，可能会出现一些不连续的地形，如相距较远的陆地或者岛屿。该函数的作用是将这些不连续的地形分离成各自独立的部分，使得地图看起来更加连续和真实。同时，它也会在分离岛屿时检查岛屿的大小，以确保它们具有足够的大小来容纳玩家和生物群落。  

